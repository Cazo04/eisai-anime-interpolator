# This environment.yml is designed for the eisai-anime-interpolator project
# and includes pinned versions for CuPy and Kornia where required.
#
name: eisai_env

channels:
  - pytorch
  - nvidia
  - conda-forge  # preferred channel for many packages
  - defaults

dependencies:
  # === Python core ===
  - python=3.10
  - pip

  # === ML stack (PyTorch + CUDA 11.8) ===
  # We pin pytorch-cuda=11.8 as the target stable CUDA runtime
  - pytorch
  - torchvision
  - torchaudio
  - pytorch-cuda=11.8

  # === CUDA-related dependency (CuPy) - PINNED VERSION ===
  # Use CuPy v12.x to remain compatible with removed `compile_with_cache` behavior
  - cupy=12.2.0
  # A meta package to ensure CuPy is linked to CUDA 11.8
  - cuda-version=11.8

  # === Utility & CV libraries ===
  - numpy
  - pandas
  - opencv  # OpenCV
  - scipy
  - matplotlib

  # === PIP-only dependencies (PINNED) ===
  - pip:
    - lpips
    - kornia
